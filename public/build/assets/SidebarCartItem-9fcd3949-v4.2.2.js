import{n as c,C as o,s as n}from"./main-56722f75-v4.2.2.js";import"./axios-7738e096-v4.2.2.js";import"./jquery-nice-select-87330d3b-v4.2.2.js";import"./slick-animation-74f0897d-v4.2.2.js";import"./vue-54e7c309-v4.2.2.js";import"./vue-toast-notification-e944f1e8-v4.2.2.js";import"./blueimp-md5-133dffcb-v4.2.2.js";import"./v-click-outside-3bb84ac6-v4.2.2.js";import"./lodash-32739eb7-v4.2.2.js";import"./dateformat-e6697b77-v4.2.2.js";import"./nouislider-1bf0e82d-v4.2.2.js";import"./drift-zoom-5d80d4dd-v4.2.2.js";import"./glightbox-0f3b1f7a-v4.2.2.js";const l={mixins:[o],props:["cartItem"],data(){return{controller:null}},methods:{updateCart(r,t){this.controller&&this.controller.abort(),this.controller=new AbortController,axios.put(route("cart.items.update",{id:r.id}),{qty:t||1},{signal:this.controller.signal}).then(e=>{n.updateCart(e.data)}).catch(e=>{e.code!=="ERR_CANCELED"&&(n.updateCart(e.response.data.cart),this.$notify(e.response.data.message))})},remove(){n.removeCartItem(this.cartItem),axios.delete(route("cart.items.destroy",{id:this.cartItem.id})).then(r=>{n.updateCart(r.data)})}}};var m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cart-item sidebar-cart-item"},[e("a",{staticClass:"product-image",attrs:{href:t.productUrl(t.cartItem)}},[e("img",{class:{"image-placeholder":!t.hasBaseImage(t.cartItem)},attrs:{src:t.baseImage(t.cartItem),alt:t.cartItem.product.name}})]),e("div",{staticClass:"product-info"},[e("a",{staticClass:"product-name",attrs:{href:t.productUrl(t.cartItem),title:t.cartItem.product.name}},[t._v(" "+t._s(t.cartItem.product.name)+" ")]),Object.entries(t.cartItem.variations).length!==0?e("ul",{staticClass:"list-inline product-options"},t._l(t.cartItem.variations,function(a,i,s){return e("li",{key:s},[e("label",[t._v(t._s(a.name)+":")]),t._v(" "+t._s(a.values[0].label)+t._s(Object.values(t.cartItem.variations).length===s+1?"":",")+" ")])}),0):t._e(),Object.entries(t.cartItem.options).length!==0?e("ul",{staticClass:"list-inline product-options"},t._l(t.cartItem.options,function(a,i,s){return e("li",{key:a.id},[e("label",[t._v(t._s(a.name)+":")]),t._v(" "+t._s(t.optionValues(a))+t._s(Object.entries(t.cartItem.options).length===s+1?"":",")+" ")])}),0):t._e(),e("div",{staticClass:"d-flex align-items-center justify-content-between mt-1"},[e("div",{staticClass:"number-picker"},[e("div",{staticClass:"input-group-quantity"},[e("button",{staticClass:"btn btn-number btn-minus",attrs:{type:"button",disabled:t.cartItem.qty<=1},on:{click:function(a){return t.updateQuantity(t.cartItem,t.cartItem.qty-1)}}},[t._v(" - ")]),e("input",{staticClass:"form-control input-number input-quantity",attrs:{type:"text",min:"1",max:t.maxQuantity(t.cartItem)},domProps:{value:t.cartItem.qty},on:{focus:function(a){return a.target.select()},input:function(a){t.changeQuantity(t.cartItem,Number(a.target.value))},keydown:[function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"up",38,a.key,["Up","ArrowUp"])?null:t.updateQuantity(t.cartItem,t.cartItem.qty+1)},function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"down",40,a.key,["Down","ArrowDown"])?null:t.updateQuantity(t.cartItem,t.cartItem.qty-1)}]}}),e("button",{staticClass:"btn btn-number btn-plus",attrs:{type:"button",disabled:t.isQtyIncreaseDisabled(t.cartItem)},on:{click:function(a){return t.updateQuantity(t.cartItem,t.cartItem.qty+1)}}},[t._v(" + ")])])]),e("div",{staticClass:"product-price"},[t._v(" x "+t._s(t.cartItem.unitPrice.inCurrentCurrency.formatted)+" ")])])]),e("div",{staticClass:"remove-cart-item"},[e("button",{staticClass:"btn-remove",on:{click:t.remove}},[e("i",{staticClass:"las la-times"})])])])},u=[],p=c(l,m,u,!1,null,null,null,null);const w=p.exports;export{w as default};
